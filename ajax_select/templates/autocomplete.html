{% load i18n %}
<input type="text" name="{{name}}" id="{{html_id}}" value="{{current_name}}" {{ extra_attrs }} />
{% block help %}{# {% if help_text %}<p class="help">{{ help_text }}</p>{% endif %} #}{% endblock %}
<script type="text/javascript">
//<![CDATA[
	$("#{{html_id}}_text").autocomplete({
		source: '{{lookup_url}}',
		focus: function(event, ui) {
			$("#{{html_id}}").val(ui.item.label);
			return false;
		},
		select: function(event, ui) {
			$("#{{html_id}}").val(ui.item.label);
			$("#{{html_id}}").trigger("added");

			return false;
		}
	}).data("autocomplete")._renderItem = function(ul, item) {
			return $("<li></li>")
				.data("item.autocomplete", item)
				.append("<a>" + item.label + "</a>")
				.appendTo(ul);
		};
{% block extra_script %}{% endblock %}
//]]>
</script>
